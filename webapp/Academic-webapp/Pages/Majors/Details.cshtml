@page "{id:int}"
@model Academic_webapp.Pages.Majors.DetailsModel
@{
    ViewData["Title"] = "Major Details";
}

<h1 class="display-6">Major Details</h1>

<dl class="row mt-4">
    <dt class="col-sm-2">Name</dt>
    <dd class="col-sm-10">@Model.Major.MajorName</dd>
    <dt class="col-sm-2">Department</dt>
    <dd class="col-sm-10">@Model.Major.Department?.DepartmentName</dd>
</dl>

<section class="mt-4">
    <h5>Students</h5>
    @if (Model.Major.Students.Any())
    {
        <ul>
        @foreach (var student in Model.Major.Students.OrderBy(s => s.LastName).ThenBy(s => s.FirstName))
        {
            <li>@student.FullName</li>
        }
        </ul>
    }
    else
    {
        <p class="text-muted">No students assigned to this major.</p>
    }
</section>

<p class="mt-4">
    <a asp-page="Edit" asp-route-id="@Model.Major.MajorID" class="btn btn-primary">Edit</a>
    <a asp-page="Index" class="btn btn-secondary">Back to List</a>
</p>
